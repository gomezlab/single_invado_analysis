<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=iso-8859-1">
	<TITLE></TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice.org 1.1.0  (Linux)">
	<META NAME="CREATED" CONTENT="20040928;15415600">
	<META NAME="CHANGED" CONTENT="20040930;11214300">
	<STYLE>
	<!--
		@page { size: 21.59cm 27.94cm; margin: 2cm }
		P { margin-bottom: 0.21cm }
		PRE.western { font-family: "Nimbus Roman No9 L" }
	-->
	</STYLE>
</HEAD>
<BODY LANG="en-US" DIR="LTR">
<PRE CLASS="western" STYLE="margin-bottom: 0.5cm"><FONT SIZE=4 STYLE="font-size: 16pt">Edge Tracker</FONT></PRE>
<HR>
<PRE CLASS="western">The program (the main function is imEdgeTracker) extracts the boundary of an object 
and determines the displacement of this boundary (the so-called protrusion) in time 
lapse image series.
 
<FONT SIZE=3>BEFORE YOU USE EDGE TRACKER</FONT>

Before you run the program create a file in your home directory called &ldquo;<FONT FACE="Courier, monospace">protrusion_win.ini</FONT>&rdquo;.
This file should contain in the first line the path to the image directories and in the second line
the path to the project directories:
<FONT FACE="Courier, monospace">H:\matlab\images.dat</FONT>
<FONT FACE="Courier, monospace">H:\matlab\dir.dat</FONT>

The file &ldquo;<FONT FACE="Courier, monospace">images.dat</FONT>&rdquo; should look like:
<FONT FACE="Courier, monospace">S:\scripps\s399\actin\S399ACTIN001.tif</FONT>
<FONT FACE="Courier, monospace">%</FONT>
<FONT FACE="Courier, monospace">% any comment</FONT>
<FONT FACE="Courier, monospace">S:\scripps\cut_s399\actin\cut_S399ACTIN001.tif</FONT>
<FONT FACE="Courier, monospace">%</FONT>
<FONT FACE="Courier, monospace">% any comment</FONT>

and the file &ldquo;<FONT FACE="Courier, monospace">dir.dat</FONT>&rdquo;should look like:
<FONT FACE="Courier, monospace">L:\projects\s399</FONT>
<FONT FACE="Courier, monospace">L:\projects\cut_s399</FONT>


<FONT SIZE=3>MOST IMPROTANT SETTINGS</FONT>

<FONT SIZE=2>Bit depth                      </FONT>
             crucial for the image segmentation
<FONT SIZE=2>Frame interval [s]                  </FONT>
             important for the displacement velocity calculation
<FONT SIZE=2>Pixel size [nm]        </FONT>
             important for the displacement calculation
<FONT SIZE=2>Protrusion band depth</FONT>
             this defines the width of the band used to average parameters adjacent to the edge
<FONT SIZE=2>Number of segments along the edge    </FONT>
             this defines the number of segments used in combination with &ldquo;Protrusion band depth&rdquo;
             to calculate average parameters adjacent to the edge
<FONT SIZE=2>Segmentation by clustering</FONT>
             if you have a particularly noisy image, try to use 
             the k-means or the EM algorithm. They take a bit longer though.
             Also for high contrast images k-means might work better
<FONT SIZE=2>Method for protrusion estimation</FONT>
             if you use objects which do not touch the image boundary, set the 
             spline parameter search space to &ldquo;0&rdquo;. Generally, the more different the two 
             edges are from each other, the bigger the search space has to be

<FONT SIZE=3>GENERATED DATA</FONT>

The following data structure is generated:

project\prot\
                    av_normal.dat                                         (segment averaged normals (relative to the edge))
                    av_prot.dat                                              (segment averaged displacement of the edge)
                    edge_spline.mat                                      (spline descritors of the edge)
                    parameters.dat                                         (all parameters settings of the current run)
                    pixel_edge.dat                                         (pixel coordinates of the extracted edge)
                    prot.dat                                                    (all protrusion vectors along the edge)
band_mask\
                   prot_mask_xxx.tif
                   (binary mask to cut region adjacent to the boundary)
cell_mask\
                  mask_xxx.tif
                  (binary mask to cut object inside the boundary)
edge_cell\
                 img_edge_xxx.tif
                 (ovelay of the object with its extracted boundary)
figures\
                cell_activity.tif/eps/fig              (time/position/displacement plot)
                cell_area.tif/eps/fig                   (object area assembled/disassembled)
                diff_area.tif/eps/fig                   (change in object area assembling/disassembling)
                edge_evolution_overaly.tif      (superposition of all extracted edges and original image)
                edge_length.tif/eps/fig             (edge length)
                edges_overlay.tif                     (superposition of all extracted edges, black background)
                edges_w_overlay.tif                (superposition of all extracted edges, white background)
                prot_edge_w.tif/eps/fig            (superposition of all extracted edges and displacement vectors, white background
                prot_vel_pos_av.tif/eps/fig      (position averaged displacement)
                prot_vel_time_av.tif/eps/fig     (time averaged displacement)
pr_vectors\
               prot_vec_xxx.tif/eps/fig
               (pairs of extracted edges with displacement vectors)
segment_data\
                                   s_mask_xxx.dat
                                   (pixel coordinates defining segments along the edges)


<FONT SIZE=3>DETAILS</FONT>

The code works as following:

The image i_s segmented based on pixel intensity values. The threshold value for this is 
automatically determined based on an analysis of the image histogram. The segmented 
(binary) image is median filtered and cleaned up. Attention, if the cell covers only a 
small part of the image unexpected results can occur since a size criterion is used to 
identify the cell body. The cell edge is defined as a 8-nghb. connected pixel object. 

For the further analysis the edge is approximated with a smoothing spline. The edge 
protrusion (displacement) is calculated using a mechanical model. This requires an
 initial solution calculated by the nearest model. A normal model is also implemented 
but not used in Version 1.0. After the stack processing some data analysis is performed. 
As a control output the variable &quot;img_proccessed&quot; is given. The values are: 0 if the 
image is not processed (because, t_step is not 1), 1 for a successful process and -1 when
the attempt failed.


                                        </PRE>
</BODY>
</HTML>